import { motion, useInView, AnimatePresence } from "framer-motion";
import { useRef, useState } from "react";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";

// Skill icons as SVG components for better control
const skillIcons: Record<string, React.ReactNode> = {
  // Languages
  Python: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <linearGradient id="python-a" gradientUnits="userSpaceOnUse" x1="70.252" y1="1237.476" x2="170.659" y2="1151.089" gradientTransform="matrix(.563 0 0 -.568 -29.215 707.817)">
        <stop offset="0" stopColor="#5A9FD4"/>
        <stop offset="1" stopColor="#306998"/>
      </linearGradient>
      <linearGradient id="python-b" gradientUnits="userSpaceOnUse" x1="209.474" y1="1098.811" x2="173.62" y2="1149.537" gradientTransform="matrix(.563 0 0 -.568 -29.215 707.817)">
        <stop offset="0" stopColor="#FFD43B"/>
        <stop offset="1" stopColor="#FFE873"/>
      </linearGradient>
      <path fill="url(#python-a)" d="M63.391 1.988c-4.222.02-8.252.379-11.8 1.007-10.45 1.846-12.346 5.71-12.346 12.837v9.411h24.693v3.137H29.977c-7.176 0-13.46 4.313-15.426 12.521-2.268 9.405-2.368 15.275 0 25.096 1.755 7.311 5.947 12.519 13.124 12.519h8.491V67.234c0-8.151 7.051-15.34 15.426-15.34h24.665c6.866 0 12.346-5.654 12.346-12.548V15.833c0-6.693-5.646-11.72-12.346-12.837-4.244-.706-8.645-1.027-12.866-1.008zM50.037 9.557c2.55 0 4.634 2.117 4.634 4.721 0 2.593-2.083 4.69-4.634 4.69-2.56 0-4.633-2.097-4.633-4.69-.001-2.604 2.073-4.721 4.633-4.721z"/>
      <path fill="url(#python-b)" d="M91.682 28.38v10.966c0 8.5-7.208 15.655-15.426 15.655H51.591c-6.756 0-12.346 5.783-12.346 12.549v23.515c0 6.691 5.818 10.628 12.346 12.547 7.816 2.297 15.312 2.713 24.665 0 6.216-1.801 12.346-5.423 12.346-12.547v-9.412H63.938v-3.138h37.012c7.176 0 9.852-5.005 12.348-12.519 2.578-7.735 2.467-15.174 0-25.096-1.774-7.145-5.161-12.521-12.348-12.521h-9.268zM77.809 87.927c2.561 0 4.634 2.097 4.634 4.692 0 2.602-2.074 4.719-4.634 4.719-2.55 0-4.633-2.117-4.633-4.719 0-2.595 2.083-4.692 4.633-4.692z"/>
    </svg>
  ),
  Java: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#0074BD" d="M47.617 98.12s-4.767 2.774 3.397 3.71c9.892 1.13 14.947.968 25.845-1.092 0 0 2.871 1.795 6.873 3.351-24.439 10.47-55.308-.607-36.115-5.969zM44.629 84.455s-5.348 3.959 2.823 4.805c10.567 1.091 18.91 1.18 33.354-1.6 0 0 1.993 2.025 5.132 3.131-29.542 8.64-62.446.68-41.309-6.336z"/>
      <path fill="#EA2D2E" d="M69.802 61.271c6.025 6.935-1.58 13.17-1.58 13.17s15.289-7.891 8.269-17.777c-6.559-9.215-11.587-13.792 15.635-29.58 0 .001-42.731 10.67-22.324 34.187z"/>
      <path fill="#0074BD" d="M102.123 108.229s3.529 2.91-3.888 5.159c-14.102 4.272-58.706 5.56-71.094.171-4.451-1.938 3.899-4.625 6.526-5.192 2.739-.593 4.303-.485 4.303-.485-4.953-3.487-32.013 6.85-13.743 9.815 49.821 8.076 90.817-3.637 77.896-9.468zM49.912 70.294s-22.686 5.389-8.033 7.348c6.188.828 18.518.638 30.011-.326 9.39-.789 18.813-2.474 18.813-2.474s-3.308 1.419-5.704 3.053c-23.042 6.061-67.544 3.238-54.731-2.958 10.832-5.239 19.644-4.643 19.644-4.643zM90.609 93.041c23.421-12.167 12.591-23.86 5.032-22.285-1.848.385-2.677.72-2.677.72s.688-1.079 2-1.543c14.953-5.255 26.451 15.503-4.823 23.725 0-.002.359-.327.468-.617z"/>
      <path fill="#EA2D2E" d="M76.491 1.587s12.968 12.976-12.303 32.923c-20.266 16.006-4.621 25.13-.007 35.559-11.831-10.673-20.509-20.07-14.688-28.815C57.648 28.778 81.186 22.239 76.491 1.587z"/>
      <path fill="#0074BD" d="M52.214 126.021c22.476 1.437 57-.8 57.817-11.436 0 0-1.571 4.032-18.577 7.231-19.186 3.612-42.854 3.191-56.887.874 0 .001 2.875 2.381 17.647 3.331z"/>
    </svg>
  ),
  "C++": (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#659AD2" d="M115.4 30.7L67.1 2.9c-.8-.5-1.9-.7-3.1-.7-1.2 0-2.3.3-3.1.7l-48 27.9c-1.7 1-2.9 3.5-2.9 5.4v55.7c0 1.1.2 2.4 1 3.5l106.8-62c-.6-1.2-1.5-2.1-2.4-2.7z"/>
      <path fill="#03599C" d="M10.7 95.3c.5.8 1.2 1.5 1.9 1.9l48.2 27.9c.8.5 1.9.7 3.1.7 1.2 0 2.3-.3 3.1-.7l48-27.9c1.7-1 2.9-3.5 2.9-5.4V36.1c0-.9-.1-1.9-.6-2.8l-106.6 62z"/>
      <path fill="#fff" d="M85.3 76.1C81.1 83.5 73.1 88.5 64 88.5c-13.5 0-24.5-11-24.5-24.5s11-24.5 24.5-24.5c9.1 0 17.1 5 21.3 12.5l13-7.5c-6.8-11.9-19.6-20-34.3-20-21.8 0-39.5 17.7-39.5 39.5s17.7 39.5 39.5 39.5c14.6 0 27.4-8 34.2-19.8l-12.9-7.6z"/>
      <path d="M82.1 61.8h5.2v-5.3h4.4v5.3H97v4.4h-5.3v5.2h-4.4v-5.2h-5.2v-4.4zm18.5 0h5.2v-5.3h4.4v5.3h5.3v4.4h-5.3v5.2h-4.4v-5.2h-5.2v-4.4z" fill="#fff"/>
    </svg>
  ),
  C: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#659AD2" d="M115.4 30.7L67.1 2.9c-.8-.5-1.9-.7-3.1-.7-1.2 0-2.3.3-3.1.7l-48 27.9c-1.7 1-2.9 3.5-2.9 5.4v55.7c0 1.1.2 2.4 1 3.5l106.8-62c-.6-1.2-1.5-2.1-2.4-2.7z"/>
      <path fill="#03599C" d="M10.7 95.3c.5.8 1.2 1.5 1.9 1.9l48.2 27.9c.8.5 1.9.7 3.1.7 1.2 0 2.3-.3 3.1-.7l48-27.9c1.7-1 2.9-3.5 2.9-5.4V36.1c0-.9-.1-1.9-.6-2.8l-106.6 62z"/>
      <path fill="#fff" d="M85.3 76.1C81.1 83.5 73.1 88.5 64 88.5c-13.5 0-24.5-11-24.5-24.5s11-24.5 24.5-24.5c9.1 0 17.1 5 21.3 12.5l13-7.5c-6.8-11.9-19.6-20-34.3-20-21.8 0-39.5 17.7-39.5 39.5s17.7 39.5 39.5 39.5c14.6 0 27.4-8 34.2-19.8l-12.9-7.6z"/>
    </svg>
  ),
  SQL: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"/>
    </svg>
  ),
  // Web & AI
  CSS: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#1572B6" d="M18.814 114.123L8.76 1.352h110.48l-10.064 112.754-45.243 12.543-45.119-12.526z"/>
      <path fill="#33A9DC" d="M64.001 117.062l36.559-10.136 8.601-96.354h-45.16v106.49z"/>
      <path fill="#fff" d="M64.001 51.429h18.302l1.264-14.163H64.001V23.435h34.682l-.332 3.711-3.4 38.114h-30.95V51.429z"/>
      <path fill="#EBEBEB" d="M64.083 87.349l-.061.018-15.403-4.159-.985-11.031H33.752l1.937 21.717 28.331 7.863.063-.018v-14.39z"/>
      <path fill="#fff" d="M81.127 64.675l-1.666 18.522-15.426 4.164v14.39l28.354-7.858.208-2.337 2.406-26.881H81.127z"/>
      <path fill="#EBEBEB" d="M64.048 23.435v13.831H30.64l-.277-3.108-.63-7.012-.331-3.711h34.646zm-.047 27.994v13.831H48.792l-.277-3.108-.631-7.012-.33-3.711h16.447z"/>
    </svg>
  ),
  HTML: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#E44D26" d="M19.037 113.876L9.032 1.661h109.936l-10.016 112.198-45.019 12.48z"/>
      <path fill="#F16529" d="M64 116.8l36.378-10.086 8.559-95.878H64z"/>
      <path fill="#EBEBEB" d="M64 52.455H45.788L44.53 38.361H64V24.599H29.489l.33 3.692 3.382 37.927H64zm0 35.743l-.061.017-15.327-4.14-.979-10.975H33.816l1.928 21.609 28.193 7.826.063-.017z"/>
      <path fill="#fff" d="M63.952 52.455v13.763h16.947l-1.597 17.849-15.35 4.143v14.319l28.215-7.82.207-2.325 3.234-36.233.335-3.696h-3.708zm0-27.856v13.762h33.244l.276-3.092.628-6.978.329-3.692z"/>
    </svg>
  ),
  PyTorch: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#EE4C2C" d="M64.002 5.472L29.507 39.967c-19.079 19.079-19.079 50.011 0 69.09 19.079 19.079 50.011 19.079 69.09 0 19.079-19.079 19.079-50.011 0-69.09L81.003 22.373l-5.5 5.5 17.094 17.094c15.263 15.263 15.263 40.012 0 55.275-15.263 15.263-40.012 15.263-55.275 0-15.263-15.263-15.263-40.012 0-55.275l28.18-28.18-1.5-11.315zM88.5 33.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11z"/>
    </svg>
  ),
  RAG: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"/>
    </svg>
  ),
  LLM: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z"/>
    </svg>
  ),
  React: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <g fill="#61DAFB">
        <circle cx="64" cy="64" r="11.4"/>
        <path d="M107.3 45.2c-2.2-.8-4.5-1.6-6.9-2.3.6-2.4 1.1-4.8 1.5-7.1 2.1-13.2-.2-22.5-6.6-26.1-1.9-1.1-4-1.6-6.4-1.6-7 0-15.9 5.2-24.9 13.9-9-8.7-17.9-13.9-24.9-13.9-2.4 0-4.5.5-6.4 1.6-6.4 3.7-8.7 13-6.6 26.1.4 2.3.9 4.7 1.5 7.1-2.4.7-4.7 1.4-6.9 2.3C8.2 50 1.4 56.6 1.4 64s6.9 14 19.3 18.8c2.2.8 4.5 1.6 6.9 2.3-.6 2.4-1.1 4.8-1.5 7.1-2.1 13.2.2 22.5 6.6 26.1 1.9 1.1 4 1.6 6.4 1.6 7.1 0 16-5.2 24.9-13.9 9 8.7 17.9 13.9 24.9 13.9 2.4 0 4.5-.5 6.4-1.6 6.4-3.7 8.7-13 6.6-26.1-.4-2.3-.9-4.7-1.5-7.1 2.4-.7 4.7-1.4 6.9-2.3 12.5-4.8 19.3-11.4 19.3-18.8s-6.8-14-19.3-18.8zM92.5 14.7c4.1 2.4 5.5 9.8 3.8 20.3-.3 2.1-.8 4.3-1.4 6.6-5.2-1.2-10.7-2-16.5-2.5-3.4-4.8-6.9-9.1-10.4-13 7.4-7.3 14.9-12.3 21-12.3 1.3 0 2.5.3 3.5.9zM81.3 74c-1.8 3.2-3.9 6.4-6.1 9.6-3.7.3-7.4.4-11.2.4-3.9 0-7.6-.1-11.2-.4-2.2-3.2-4.2-6.4-6-9.6-1.9-3.3-3.7-6.7-5.3-10 1.6-3.3 3.4-6.7 5.3-10 1.8-3.2 3.9-6.4 6.1-9.6 3.7-.3 7.4-.4 11.2-.4 3.9 0 7.6.1 11.2.4 2.2 3.2 4.2 6.4 6 9.6 1.9 3.3 3.7 6.7 5.3 10-1.7 3.3-3.4 6.6-5.3 10zm8.3-3.3c1.5 3.5 2.7 6.9 3.8 10.3-3.4.8-7 1.4-10.8 1.9 1.2-1.9 2.5-3.9 3.6-6 1.2-2.1 2.3-4.2 3.4-6.2zM64 97.8c-2.4-2.6-4.7-5.4-6.9-8.3 2.3.1 4.6.2 6.9.2 2.3 0 4.6-.1 6.9-.2-2.2 2.9-4.5 5.7-6.9 8.3zm-18.6-15c-3.8-.5-7.4-1.1-10.8-1.9 1.1-3.3 2.3-6.8 3.8-10.3 1.1 2 2.2 4.1 3.4 6.1 1.2 2.2 2.4 4.1 3.6 6.1zm-7-25.5c-1.5-3.5-2.7-6.9-3.8-10.3 3.4-.8 7-1.4 10.8-1.9-1.2 1.9-2.5 3.9-3.6 6-1.2 2.1-2.3 4.2-3.4 6.2zM64 30.2c2.4 2.6 4.7 5.4 6.9 8.3-2.3-.1-4.6-.2-6.9-.2-2.3 0-4.6.1-6.9.2 2.2-2.9 4.5-5.7 6.9-8.3zm22.2 21l-3.6-6c3.8.5 7.4 1.1 10.8 1.9-1.1 3.3-2.3 6.8-3.8 10.3-1.1-2.1-2.2-4.2-3.4-6.2zM31.7 35c-1.7-10.5-.3-17.9 3.8-20.3 1-.6 2.2-.9 3.5-.9 6 0 13.5 4.9 21 12.3-3.5 3.8-7 8.2-10.4 13-5.8.5-11.3 1.4-16.5 2.5-.6-2.3-1-4.5-1.4-6.6zM7 64c0-4.7 5.7-9.7 15.7-13.4 2-.8 4.2-1.5 6.4-2.1 1.6 5 3.6 10.3 6 15.6-2.4 5.3-4.5 10.5-6 15.5C15.3 75.6 7 69.6 7 64zm28.5 49.3c-4.1-2.4-5.5-9.8-3.8-20.3.3-2.1.8-4.3 1.4-6.6 5.2 1.2 10.7 2 16.5 2.5 3.4 4.8 6.9 9.1 10.4 13-7.4 7.3-14.9 12.3-21 12.3-1.3 0-2.5-.3-3.5-.9zM96.3 93c1.7 10.5.3 17.9-3.8 20.3-1 .6-2.2.9-3.5.9-6 0-13.5-4.9-21-12.3 3.5-3.8 7-8.2 10.4-13 5.8-.5 11.3-1.4 16.5-2.5.6 2.3 1 4.5 1.4 6.6zm9-15.6c-2 .8-4.2 1.5-6.4 2.1-1.6-5-3.6-10.3-6-15.6 2.4-5.3 4.5-10.5 6-15.5 13.8 4 22.1 10 22.1 15.6 0 4.7-5.8 9.7-15.7 13.4z"/>
      </g>
    </svg>
  ),
  "Node.js": (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#83CD29" d="M112.771 30.334L68.674 4.729c-2.781-1.584-6.402-1.584-9.205 0L14.901 30.334C12.031 31.985 10 35.088 10 38.407v51.142c0 3.319 2.084 6.423 4.954 8.083l11.775 6.688c5.628 2.772 7.617 2.772 10.178 2.772 8.333 0 13.093-5.039 13.093-13.828v-50.49c0-.713-.371-1.774-1.071-1.774h-5.623c-.712 0-2.306 1.061-2.306 1.773v50.49c0 3.896-3.524 7.773-10.11 4.48L18.723 90.73c-.424-.23-.723-.693-.723-1.181V38.407c0-.482.555-.966.982-1.213l44.424-25.561c.415-.235 1.025-.235 1.439 0l43.882 25.555c.42.253.272.722.272 1.219v51.142c0 .488.183.963-.232 1.198l-44.086 25.576c-.378.227-.847.227-1.261 0l-11.307-6.749c-.341-.198-.746-.269-1.073-.086-3.146 1.783-3.726 2.02-6.677 3.043-.726.253-1.797.692.41 1.929l14.798 8.754a9.294 9.294 0 004.647 1.246c1.642 0 3.25-.426 4.667-1.246l43.885-25.582c2.87-1.672 4.23-4.764 4.23-8.083V38.407c0-3.319-1.36-6.414-4.229-8.073zM77.91 81.445c-11.726 0-14.309-3.235-15.17-9.066-.1-.628-.633-1.379-1.272-1.379h-5.731c-.71 0-1.279.86-1.279 1.566 0 7.466 4.059 16.512 23.453 16.512 14.039 0 22.088-5.455 22.088-15.109 0-9.572-6.467-12.084-20.082-13.886-13.762-1.819-15.16-2.738-15.16-5.962 0-2.658 1.184-6.203 11.374-6.203 9.105 0 12.461 1.954 13.842 8.091.118.577.645 1.249 1.272 1.249h5.731c.355 0 .722-.335.937-.614.215-.28.426-.629.374-1.013-.914-10.775-8.131-15.78-22.156-15.78-12.664 0-20.197 5.33-20.197 14.292 0 9.698 7.477 12.378 19.58 13.577 14.471 1.428 15.663 3.54 15.663 6.395 0 4.955-3.978 7.066-13.267 7.33z"/>
    </svg>
  ),
  "Next.js": (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="currentColor" d="M64 0C28.7 0 0 28.7 0 64s28.7 64 64 64c11.2 0 21.7-2.9 30.8-7.9L48.4 55.3v36.6h-6.8V41.8h6.8l50.5 75.8C116.4 106.2 128 86.5 128 64c0-35.3-28.7-64-64-64zm22.1 84.6l-7.5-11.3V41.8h7.5v42.8z"/>
    </svg>
  ),
  "Express.js": (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="currentColor" d="M126.67 98.44c-4.56 1.16-7.38.05-9.91-3.75-5.68-8.51-11.95-16.63-18-24.9-.78-1.07-1.59-2.12-2.6-3.45C89 76 81.85 85.2 75.14 94.77c-2.4 3.42-4.92 4.91-9.4 3.7l26.92-36.13L67.6 29.71c4.31-.84 7.29-.41 9.93 3.45 5.83 8.52 12.26 16.63 18.67 25.21 6.45-8.55 12.8-16.67 18.8-25.11 2.41-3.42 5-4.72 9.33-3.46-3.28 4.35-6.49 8.63-9.72 12.88-4.36 5.73-8.64 11.53-13.16 17.14-1.61 2-1.35 3.3.09 5.19C109.9 76 118.16 87.1 126.67 98.44zM1.33 61.74c.72-3.61 1.2-7.29 2.2-10.83 6-21.43 30.6-30.34 47.5-17.06C60.93 41.64 63.39 52.62 62.9 65H7.1c-.84 22.21 15.15 35.62 35.53 28.78 7.15-2.4 11.36-8 13.47-15 1.07-3.51 2.84-4.06 6.14-3.06-1.69 8.76-5.52 16.08-13.52 20.66-12 6.86-29.13 4.64-38.14-4.89C5.26 85.89 3 78.92 2 71.39c-.15-1.2-.46-2.38-.7-3.57q.03-3.04.03-6.08zm5.87-1.49h50.43c-.33-16.06-10.33-27.47-24-27.57-15-.12-25.78 11.02-26.43 27.57z"/>
    </svg>
  ),
  Django: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#092E20" d="M59.448 0h20.93v96.88c-10.737 2.04-18.62 2.855-27.18 2.855-25.551 0-38.87-11.551-38.87-33.705 0-21.338 14.135-35.2 36.015-35.2 3.398 0 5.98.272 9.105 1.087zm0 48.765c-2.446-.815-4.485-1.086-7.067-1.086-10.6 0-16.717 6.523-16.717 17.939 0 11.145 5.845 17.26 16.58 17.26 2.309 0 4.212-.136 7.204-.543z"/>
      <path fill="#092E20" d="M113.672 32.321V80.84c0 16.717-1.224 24.735-4.893 31.666-3.398 6.66-7.883 10.873-17.124 15.494l-19.435-9.241c9.242-4.35 13.726-8.153 16.58-14.13 2.99-6.115 3.943-13.179 3.943-31.53V32.321zM94.103 0h20.93v21.203h-20.93z"/>
    </svg>
  ),
  Flask: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="currentColor" d="M48.468 44.438c-3.812-.86-7.703 1.6-8.687 5.469-.985 3.87 1.282 7.875 5.063 8.937 3.78 1.063 7.828-1.136 9.03-4.906 1.204-3.77-1.625-8.64-5.406-9.5zM88.53 44.438c-3.78.86-6.61 5.73-5.406 9.5 1.203 3.77 5.25 5.969 9.031 4.906 3.781-1.062 6.047-5.067 5.063-8.937-.985-3.87-4.875-6.328-8.688-5.469zM64.312 2C38.138 2 15.312 19.875 15.312 49.063V86c0 22.844 18.875 41.594 41.625 41.594h14.438c22.75 0 41.625-18.75 41.625-41.594V49.063c0-29.188-22.687-47.063-48.688-47.063zm.063 10.156c19.921 0 36.938 13.844 38.719 36.906-5.11 1.454-9.797 6.688-9.797 12.625 0 4.313 2.812 8.657 2.812 12.938 0 7.343-5.344 12.5-12.781 12.812l-.625-3.5c5.734-5.421 10.093-12.257 10.093-19.812 0-2.688-1.125-5.313-1.875-8-.75-2.688-.781-5.25.469-7.656l-4.781-2.657c-7.938 4.313-21.188 6.25-23.875 17.719-2.734-11.203-16.11-13.797-23.938-17.719l-4.781 2.656c1.25 2.407 1.218 4.97.469 7.657-.75 2.687-1.875 5.312-1.875 8 0 7.64 4.297 14.374 10.093 19.812l-.625 3.5c-7.437-.312-12.781-5.469-12.781-12.812 0-4.281 2.781-8.625 2.781-12.938 0-5.937-4.593-11.14-9.75-12.562 1.734-23.125 18.86-36.969 38.782-36.969z"/>
    </svg>
  ),
  CNN: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"/>
    </svg>
  ),
  TensorFlow: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#FF6F00" d="M64 4L12 32v64l52 28 52-28V32L64 4zm0 8.9l42.8 23v46.2L64 105.1 21.2 82.1V35.9L64 12.9z"/>
      <path fill="#FF6F00" d="M64 29L32 47v35l32 18 32-18V47L64 29zm0 8.5l22.5 12.5v25L64 87.5 41.5 75v-25L64 37.5z"/>
    </svg>
  ),
  Ollama: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="currentColor">
      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
    </svg>
  ),
  // Databases
  MySQL: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#00618A" d="M116.948 97.807c-6.863-.187-12.104.452-16.585 2.341-1.273.537-3.305.552-3.513 2.147.7.733.807 1.83 1.36 2.723.994 1.61 2.68 3.77 4.2 4.907 1.663 1.24 3.391 2.56 5.193 3.625 3.2 1.892 6.774 2.968 9.873 4.86 1.828 1.116 3.645 2.525 5.42 3.77.886.625 1.479 1.597 2.564 2.016v-.233c-.59-.753-.743-1.787-1.257-2.624-1.018-1.008-2.037-1.895-3.185-2.77-3.11-2.39-9.885-5.63-11.154-9.588l-.207-.21c2.157-.246 4.695-.83 6.757-1.343 3.395-.86 6.42-.655 9.93-1.553 1.567-.4 3.13-.846 4.7-1.27v-.804c-1.757-1.8-3.012-4.17-4.913-5.818-5-4.346-10.451-8.682-16.067-12.368-2.956-1.94-6.6-3.204-9.76-4.857-.96-.5-2.498-.752-3.136-1.587-1.434-1.76-2.21-3.988-3.29-6.008-2.265-4.243-4.5-8.892-6.441-13.39-1.323-3.067-2.178-6.093-3.818-8.92-7.864-13.548-16.326-21.73-29.418-29.788-2.784-1.713-6.13-2.392-9.65-3.28-1.856-.075-3.712-.148-5.568-.222-1.13-.47-2.307-1.848-3.316-2.497-6.592-4.103-23.49-13.032-28.38-1.27-3.086 7.422 4.617 14.678 7.317 18.446 1.9 2.652 4.332 5.625 5.745 8.55.913 1.89 1.072 3.798 1.8 5.82 1.796 4.996 3.345 10.433 5.638 15.157 1.155 2.38 2.43 4.872 3.89 7.022.84 1.24 2.282 2.008 2.564 3.893-.72 1.008-1.517 2.014-1.8 3.316-4.527 11.867-2.82 26.596 3.756 35.38 2.013 2.692 6.755 8.466 13.163 6.243 5.606-1.945 4.352-7.974 5.957-13.345.362-1.214.137-2.11.78-2.926v.222l4.634 9.306c3.434 5.518 9.515 11.276 14.548 15.113 2.63 2.003 4.706 5.465 8.072 6.676v-.232h-.207c-.528-.827-1.348-1.17-2.034-1.8-1.612-1.484-3.408-3.313-4.767-4.988-3.787-4.672-7.134-9.79-10.263-15.017-1.488-2.486-2.783-5.229-4.021-7.836-.478-.999-.469-2.51-1.36-3.058-1.257 1.945-3.103 3.522-4.022 5.82-1.47 3.673-1.66 8.157-2.2 12.803-.318.092-.175.03-.363.135-3.945-.956-5.332-5.034-6.83-8.457-3.778-8.633-4.48-22.533-.78-32.498.956-2.576 5.282-10.686 3.564-13.128-.848-2.777-3.638-4.386-5.155-6.569-1.871-2.692-3.738-6.238-5.02-9.28-3.335-7.916-4.893-16.761-8.485-24.77-1.705-3.802-4.592-7.658-6.963-11.173-2.624-3.89-5.557-6.752-7.583-11.327-.72-1.625-1.698-4.222-.585-6.01.353-1.13.851-1.6 1.98-1.9 1.92-1.136 7.268.456 9.203 1.166 5.125 1.883 9.402 3.669 13.702 6.376 2.063 1.3 4.152 3.82 6.68 4.472h2.927c4.582 1.054 9.715.316 13.977 1.588 7.542 2.25 14.31 5.58 20.432 9.12 18.645 10.793 33.886 26.146 44.234 44.469 1.665 2.953 2.38 5.755 3.91 8.884 3.08 6.292 6.964 12.786 10.066 18.89 3.1 6.105 6.118 12.245 10.58 17.253 2.343 2.635 11.41 4.053 15.54 5.443 2.904.977 7.6 1.97 10.276 3.251 5.088 2.437 10.023 5.226 14.672 8.125 2.324 1.45 9.474 4.618 9.888 7.53z"/>
    </svg>
  ),
  PostgreSQL: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#336791" d="M93.809 92.112c.785-6.533.55-7.492 5.416-6.433l1.235.108c3.742.17 8.637-.602 11.513-1.938 6.191-2.873 9.861-7.668 3.758-6.409-13.924 2.873-14.881-1.842-14.881-1.842 14.703-21.815 20.849-49.508 15.543-56.287-14.47-18.489-39.517-9.746-39.936-9.52l-.134.025c-2.751-.571-5.83-.912-9.289-.968-6.301-.104-11.082 1.652-14.535 4.41 0 0-44.19-18.2-42.153 22.94 1.433 27.367 23.299 73.727 40.037 56.265 6.127-6.388 12.051-11.793 12.051-11.793 2.942 1.954 6.471 2.945 10.176 2.587l.287-.025c-.088.885-.088 1.756-.026 2.771-3.301 3.689-2.332 4.337-8.94 5.698-6.676 1.376-2.767 3.828-.194 4.467 3.118.773 10.329 1.868 15.202-4.894l-.256.563c1.715 1.375 1.633 10.078 1.887 16.254.254 6.175.655 11.935 1.75 15.305 1.094 3.369 2.491 10.966 13.081 8.702 8.862-1.896 13.438-6.806 14.041-15.008.428-5.831 1.403-4.976 1.467-10.184l.781-3.021c.898-7.51-.173-9.918 5.345-8.79z"/>
    </svg>
  ),
  MongoDB: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#439934" d="M64 11.062c-36.89 0-55.687 27.086-55.687 60.706S27.11 128 64 128c36.89 0 55.688-23.628 55.688-56.232S100.89 11.062 64 11.062zM67.5 102.937c-1.969.086-3.5-1.46-3.5-3.5V29.563c0-1.969 1.375-3.5 3.5-3.5s3.5 1.531 3.5 3.5v69.874c0 1.969-1.531 3.5-3.5 3.5z"/>
    </svg>
  ),
  // Cloud & DevOps
  Docker: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#2496ED" d="M124.8 52.1c-4.3-2.5-10-2.8-14.8-1.4-.6-5.2-4-9.7-8-12.9l-1.6-1.3-1.4 1.6c-2.7 3.1-3.5 8.3-3.1 12.3.3 2.9 1.2 5.9 3 8.3-1.4.8-2.9 1.9-4.3 2.4-2.8 1-5.9 2-8.9 2H79V49H66V24H41v12H28v13H7.8v11H0v13h9l.9 8c.8 8.6 5.1 16.2 11.3 21.6 7.7 6.7 18 10.2 29 10.2 22.3 0 39.7-8.6 50.9-25.3 6.8.4 14.9-.5 19.6-6.5l1-1.3-1.8-1.1zM28 62H17V49h11v13zm13 0H30V49h11v13zm0-26H30V23h11v13zm13 26H43V49h11v13zm0-26H43V23h11v13zm13 26H56V49h11v13zm13 0H69V49h11v13z"/>
    </svg>
  ),
  Oracle: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#C74634" d="M39.2 64c0-14.1 11.4-25.6 25.6-25.6h24c14.1 0 25.6 11.4 25.6 25.6s-11.4 25.6-25.6 25.6h-24c-14.2 0-25.6-11.5-25.6-25.6zm25.6 14.4h24c8 0 14.4-6.4 14.4-14.4s-6.4-14.4-14.4-14.4h-24c-8 0-14.4 6.4-14.4 14.4s6.4 14.4 14.4 14.4z"/>
    </svg>
  ),
  Git: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#F34F29" d="M124.737 58.378L69.621 3.264c-3.172-3.174-8.32-3.174-11.497 0L46.68 14.71l14.518 14.518c3.375-1.139 7.243-.375 9.932 2.314 2.703 2.706 3.461 6.607 2.294 9.993l13.992 13.993c3.385-1.167 7.292-.413 9.994 2.295 3.78 3.777 3.78 9.9 0 13.679a9.673 9.673 0 01-13.683 0 9.677 9.677 0 01-2.105-10.521L68.574 47.933l-.002 34.341a9.708 9.708 0 012.559 1.828c3.778 3.777 3.778 9.898 0 13.683-3.779 3.777-9.904 3.777-13.679 0-3.778-3.784-3.778-9.905 0-13.683a9.65 9.65 0 013.167-2.11V47.333a9.581 9.581 0 01-3.167-2.111c-2.862-2.86-3.551-7.06-2.083-10.576L41.056 20.333 3.264 58.123a8.133 8.133 0 000 11.5l55.117 55.114c3.174 3.174 8.32 3.174 11.499 0l54.858-54.858a8.135 8.135 0 00-.001-11.501z"/>
    </svg>
  ),
  Postman: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#FF6C37" d="M64 0C28.654 0 0 28.654 0 64s28.654 64 64 64 64-28.654 64-64S99.346 0 64 0zm0 111c-25.916 0-47-21.084-47-47s21.084-47 47-47 47 21.084 47 47-21.084 47-47 47z"/>
      <path fill="#FF6C37" d="M64 33c-17.12 0-31 13.88-31 31s13.88 31 31 31 31-13.88 31-31-13.88-31-31-31zm-8 46L44 67l12-12 12 12-12 12z"/>
    </svg>
  ),
  YOLO: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"/>
      <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
    </svg>
  ),
};

// Tools
  YOLO: (
    <svg viewBox="0 0 24 24" className="w-8 h-8" fill="none" stroke="currentColor" strokeWidth="1.5">
      <path strokeLinecap="round" strokeLinejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"/>
      <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
    </svg>
  ),
  FFmpeg: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#007808" d="M64 0L0 64l64 64 64-64L64 0zm0 16l48 48-48 48-48-48 48-48z"/>
      <path fill="#007808" d="M64 32L32 64l32 32 32-32-32-32z"/>
    </svg>
  ),
  Figma: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#0ACF83" d="M45.5 129c11.6 0 21-9.4 21-21v-21h-21c-11.6 0-21 9.4-21 21s9.4 21 21 21z"/>
      <path fill="#A259FF" d="M24.5 66c0-11.6 9.4-21 21-21h21v42h-21c-11.6 0-21-9.4-21-21z"/>
      <path fill="#F24E1E" d="M24.5 24c0-11.6 9.4-21 21-21h21v42h-21c-11.6 0-21-9.4-21-21z"/>
      <path fill="#FF7262" d="M66.5 3h21c11.6 0 21 9.4 21 21s-9.4 21-21 21h-21V3z"/>
      <path fill="#1ABCFE" d="M108.5 66c0 11.6-9.4 21-21 21s-21-9.4-21-21 9.4-21 21-21 21 9.4 21 21z"/>
    </svg>
  ),
  Postman: (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#FF6C37" d="M64 0C28.654 0 0 28.654 0 64s28.654 64 64 64 64-28.654 64-64S99.346 0 64 0zm0 111c-25.916 0-47-21.084-47-47s21.084-47 47-47 47 21.084 47 47-21.084 47-47 47z"/>
      <path fill="#FF6C37" d="M64 33c-17.12 0-31 13.88-31 31s13.88 31 31 31 31-13.88 31-31-13.88-31-31-31zm-8 46L44 67l12-12 12 12-12 12z"/>
    </svg>
  ),
  "VS Code": (
    <svg viewBox="0 0 128 128" className="w-8 h-8">
      <path fill="#007ACC" d="M96.586 108.657l-24.5-9.5V28.843l24.5-9.5v89.314zM26.414 64l46.672-36.157V41.5L36.914 64l36.172 22.5v13.657L26.414 64z"/>
      <path fill="#007ACC" d="M96.586 19.343L26.414 64l70.172 44.657V19.343z" opacity=".25"/>
      <path fill="#2FA0DB" d="M73.086 100.157l-46.672-36.157 46.672-36.157v72.314z"/>
    </svg>
  ),
};

const skillCategories = [
  {
    name: "Languages",
    skills: ["Python", "Java", "C", "C++", "SQL"],
    color: "primary",
  },
  {
    name: "Web & AI",
    skills: ["CSS", "HTML", "PyTorch", "RAG", "LLM", "React", "Node.js", "Next.js", "Express.js", "Django", "Flask", "CNN", "TensorFlow", "Ollama"],
    color: "accent",
  },
  {
    name: "Databases",
    skills: ["MySQL", "PostgreSQL", "MongoDB"],
    color: "primary",
  },
  {
    name: "Cloud & DevOps",
    skills: ["Docker", "Oracle", "Git", "Postman", "YOLO", "TensorFlow"],
    color: "accent",
  },
];
{
    name: "Tools",
    skills: ["YOLO", "FFmpeg", "Figma", "Postman", "VS Code"],
    color: "primary",
  },
];

const Skills = () => {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, margin: "-100px" });
  const [activeCategory, setActiveCategory] = useState(0);

  const currentCategory = skillCategories[activeCategory];

  return (
    <section ref={ref} className="relative section-padding overflow-hidden" id="skills">
      {/* Background glow */}
      <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px]" />

      <div className="relative z-10 max-w-6xl mx-auto">
        {/* Header */}
        <div className="text-center mb-16">
          <motion.p
            initial={{ opacity: 0, y: 20 }}
            animate={isInView ? { opacity: 1, y: 0 } : {}}
            transition={{ duration: 0.6 }}
            className="label mb-4"
          >
            Expertise
          </motion.p>
          <motion.h2
            initial={{ opacity: 0, y: 30 }}
            animate={isInView ? { opacity: 1, y: 0 } : {}}
            transition={{ duration: 0.8, delay: 0.1 }}
            className="heading-lg"
          >
            Technical <span className="text-gradient">Solar System</span>
          </motion.h2>
        </div>

        {/* Category Tabs */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={isInView ? { opacity: 1, y: 0 } : {}}
          transition={{ duration: 0.6, delay: 0.2 }}
          className="flex flex-wrap justify-center gap-3 mb-16"
        >
          {skillCategories.map((category, index) => (
            <motion.button
              key={category.name}
              onClick={() => setActiveCategory(index)}
              whileHover={{ scale: 1.05 }}
              whileTap={{ scale: 0.98 }}
              className={`relative px-6 py-3 rounded-full font-body text-sm font-medium transition-all duration-300 border ${
                activeCategory === index
                  ? "border-primary/50 text-foreground"
                  : "border-border/50 text-muted-foreground hover:border-primary/30 hover:text-foreground"
              }`}
              style={{
                backgroundColor: activeCategory === index 
                  ? category.color === 'primary' 
                    ? 'hsl(var(--primary) / 0.15)' 
                    : 'hsl(var(--accent) / 0.15)'
                  : 'hsl(var(--card) / 0.5)',
                boxShadow: activeCategory === index
                  ? category.color === 'primary'
                    ? '0 0 30px hsl(var(--primary) / 0.2)'
                    : '0 0 30px hsl(var(--accent) / 0.2)'
                  : 'none',
              }}
            >
              {category.name}
              {activeCategory === index && (
                <motion.div
                  layoutId="activeTab"
                  className="absolute inset-0 rounded-full border-2"
                  style={{
                    borderColor: category.color === 'primary' 
                      ? 'hsl(var(--primary) / 0.5)' 
                      : 'hsl(var(--accent) / 0.5)',
                  }}
                  transition={{ type: "spring", stiffness: 300, damping: 30 }}
                />
              )}
            </motion.button>
          ))}
        </motion.div>

        {/* Solar System Visualization */}
        <div className="relative w-full max-w-[600px] aspect-square mx-auto">
          {/* Orbit rings */}
          <motion.div
            initial={{ scale: 0, opacity: 0 }}
            animate={isInView ? { scale: 1, opacity: 1 } : {}}
            transition={{ duration: 0.8, delay: 0.3 }}
            className="absolute inset-[10%] rounded-full border border-dashed"
            style={{
              borderColor: currentCategory.color === 'primary' 
                ? 'hsl(var(--primary) / 0.15)' 
                : 'hsl(var(--accent) / 0.15)',
            }}
          />
          <motion.div
            initial={{ scale: 0, opacity: 0 }}
            animate={isInView ? { scale: 1, opacity: 1 } : {}}
            transition={{ duration: 0.8, delay: 0.4 }}
            className="absolute inset-[25%] rounded-full border border-dashed"
            style={{
              borderColor: currentCategory.color === 'primary' 
                ? 'hsl(var(--primary) / 0.1)' 
                : 'hsl(var(--accent) / 0.1)',
            }}
          />

          {/* Center Sun */}
          <motion.div
            initial={{ scale: 0, opacity: 0 }}
            animate={isInView ? { scale: 1, opacity: 1 } : {}}
            transition={{ duration: 0.8, delay: 0.3, type: "spring" }}
            className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-28 h-28 rounded-full flex items-center justify-center z-20"
            style={{
              background: currentCategory.color === 'primary'
                ? 'linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.7))'
                : 'linear-gradient(135deg, hsl(var(--accent)), hsl(var(--accent) / 0.7))',
              boxShadow: currentCategory.color === 'primary'
                ? '0 0 60px hsl(var(--primary) / 0.4), 0 0 100px hsl(var(--primary) / 0.2)'
                : '0 0 60px hsl(var(--accent) / 0.4), 0 0 100px hsl(var(--accent) / 0.2)',
            }}
          >
            {/* Pulse effect */}
            <motion.div
              animate={{ 
                scale: [1, 1.3, 1],
                opacity: [0.3, 0.1, 0.3],
              }}
              transition={{ 
                duration: 3, 
                repeat: Infinity, 
                ease: "easeInOut" 
              }}
              className="absolute inset-0 rounded-full"
              style={{
                backgroundColor: currentCategory.color === 'primary'
                  ? 'hsl(var(--primary))'
                  : 'hsl(var(--accent))',
              }}
            />
            <span className="text-primary-foreground font-heading text-base font-medium z-10 text-center leading-tight px-2">
              {currentCategory.name}
            </span>
          </motion.div>

          {/* Orbiting Skills */}
          <AnimatePresence mode="wait">
            <motion.div
              key={activeCategory}
              initial={{ opacity: 0, rotate: -30 }}
              animate={{ opacity: 1, rotate: 0 }}
              exit={{ opacity: 0, rotate: 30 }}
              transition={{ duration: 0.4 }}
              className="absolute inset-0"
            >
              <motion.div
                className="absolute inset-0"
                animate={{ rotate: 360 }}
                transition={{
                  duration: 40,
                  repeat: Infinity,
                  ease: "linear",
                }}
              >
                {currentCategory.skills.map((skill, index) => {
                  const angle = (index / currentCategory.skills.length) * 2 * Math.PI - Math.PI / 2;
                  const radius = 42; // percentage from center
                  const x = 50 + radius * Math.cos(angle);
                  const y = 50 + radius * Math.sin(angle);

                  return (
                    <motion.div
                      key={skill}
                      initial={{ scale: 0, opacity: 0 }}
                      animate={{ scale: 1, opacity: 1 }}
                      transition={{ 
                        duration: 0.5, 
                        delay: index * 0.1,
                        type: "spring",
                        stiffness: 200,
                      }}
                      className="absolute -translate-x-1/2 -translate-y-1/2 group"
                      style={{ left: `${x}%`, top: `${y}%` }}
                      data-cursor={currentCategory.name}
                    >
                      {/* Counter-rotate to keep icons upright */}
                      <motion.div
                        animate={{ rotate: -360 }}
                        transition={{
                          duration: 40,
                          repeat: Infinity,
                          ease: "linear",
                        }}
                      >
                        <TooltipProvider delayDuration={100}>
                          <Tooltip>
                            <TooltipTrigger asChild>
                              <motion.div 
                                whileHover={{ scale: 1.2 }}
                                className="w-14 h-14 rounded-full backdrop-blur-md border flex items-center justify-center transition-all duration-300 cursor-pointer"
                                style={{
                                  backgroundColor: currentCategory.color === 'primary' 
                                    ? 'hsl(var(--primary) / 0.1)' 
                                    : 'hsl(var(--accent) / 0.1)',
                                  borderColor: currentCategory.color === 'primary' 
                                    ? 'hsl(var(--primary) / 0.3)' 
                                    : 'hsl(var(--accent) / 0.3)',
                                  boxShadow: currentCategory.color === 'primary'
                                    ? '0 0 25px hsl(var(--primary) / 0.15)'
                                    : '0 0 25px hsl(var(--accent) / 0.15)',
                                }}
                              >
                                <div className="text-foreground">
                                  {skillIcons[skill] || (
                                    <span className="text-xs font-medium">{skill}</span>
                                  )}
                                </div>
                              </motion.div>
                            </TooltipTrigger>
                            <TooltipContent 
                              side="top" 
                              className="bg-card/95 backdrop-blur-sm border-primary/20 text-foreground font-medium px-3 py-1.5"
                            >
                              {skill}
                            </TooltipContent>
                          </Tooltip>
                        </TooltipProvider>
                      </motion.div>
                    </motion.div>
                  );
                })}
              </motion.div>
            </motion.div>
          </AnimatePresence>

          {/* Decorative particles */}
          {[...Array(8)].map((_, i) => (
            <motion.div
              key={i}
              className="absolute w-1 h-1 rounded-full"
              style={{
                left: `${20 + Math.random() * 60}%`,
                top: `${20 + Math.random() * 60}%`,
                backgroundColor: currentCategory.color === 'primary'
                  ? 'hsl(var(--primary) / 0.4)'
                  : 'hsl(var(--accent) / 0.4)',
              }}
              animate={{
                opacity: [0.2, 0.6, 0.2],
                scale: [1, 1.5, 1],
              }}
              transition={{
                duration: 2 + Math.random() * 2,
                repeat: Infinity,
                delay: Math.random() * 2,
              }}
            />
          ))}
        </div>

        {/* Skills count indicator */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={isInView ? { opacity: 1, y: 0 } : {}}
          transition={{ duration: 0.6, delay: 0.8 }}
          className="text-center mt-12"
        >
          <p className="text-muted-foreground">
            <span 
              className="font-heading text-2xl font-bold mr-2"
              style={{
                color: currentCategory.color === 'primary'
                  ? 'hsl(var(--primary))'
                  : 'hsl(var(--accent))',
              }}
            >
              {currentCategory.skills.length}
            </span>
            skills in {currentCategory.name}
          </p>
        </motion.div>
      </div>
    </section>
  );
};

export default Skills;
